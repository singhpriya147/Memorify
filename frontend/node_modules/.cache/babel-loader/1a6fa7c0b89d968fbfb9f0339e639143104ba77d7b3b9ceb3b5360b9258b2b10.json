{"ast":null,"code":"var _jsxFileName = \"D:\\\\memories-backup\\\\frontend\\\\src\\\\components\\\\UserItem.jsx\",\n  _s = $RefreshSig$();\nimport { Card } from '@mui/material';\nimport { Button, CardHeader } from '@material-ui/core';\nimport { Box } from '@mui/material';\nimport { Typography } from '@material-ui/core';\nimport { Paper } from '@material-ui/core';\nimport CardMedia from '@mui/material/CardMedia';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n// import { ThemeProvider } from '@mui/material/styles';\nimport { useState } from 'react';\nimport FlexBetween from './FlexBetween';\nimport WidgetWrapper from './WidgetWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserItem(_ref) {\n  _s();\n  let {\n    person\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const token = user.token;\n  // console.log(user._id);\n\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [buttonLabel, setButtonLabel] = useState(\"Follow\");\n  const TofollowUser = async () => {\n    const res = await fetch(`http://localhost:5000/api/users/follow/${person._id}`, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await res.json();\n    // console.log(data);\n    setIsFollowing(true);\n    setButtonLabel('Unfollow');\n  };\n  const ToUnfollowUser = async () => {\n    const res = await fetch(`http://localhost:5000/api/users/unfollow/${person._id}`, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await res.json();\n    //  console.log(data);\n    setIsFollowing(false);\n    setButtonLabel('Follow');\n  };\n  useEffect(() => {\n    if (person.follower.includes(JSON.parse(localStorage.getItem(\"user\"))._id)) {\n      setIsFollowing(true);\n      setButtonLabel('Unfollow');\n    } else {\n      setIsFollowing(false);\n      setButtonLabel('Follow');\n    }\n  }, [setIsFollowing.person]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        pl: '2rem',\n        pr: '2rem',\n        display: 'flex',\n        flexDirection: 'row',\n        // backgroundColor: '#E5BEEC',\n        // alignItems: 'center',\n        borderRadius: '5px',\n        mb: '2vmax'\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          pb: '0.5rem',\n          display: 'flex',\n          // bgcolor: 'grey',\n          // width: '2rem',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          sx: {\n            height: 50,\n            width: 50,\n            borderRadius: 100,\n            borderColor: 'blue',\n            borderWidth: '1px',\n            border: '1px solid blue',\n            mt: 1\n          },\n          component: \"img\",\n          height: \"50\",\n          image: person.profilePicture,\n          alt: person.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            ml: '1rem'\n          },\n          children: person.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: person.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => {\n            if (isFollowing) {\n              ToUnfollowUser();\n            } else {\n              TofollowUser();\n            }\n          },\n          children: buttonLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(UserItem, \"hkht11iugNrgWr6squJI4S3Mp+c=\", false, function () {\n  return [useSelector];\n});\n_c = UserItem;\nexport default UserItem;\nvar _c;\n$RefreshReg$(_c, \"UserItem\");","map":{"version":3,"names":["Card","Button","CardHeader","Box","Typography","Paper","CardMedia","React","useEffect","useSelector","useState","FlexBetween","WidgetWrapper","UserItem","person","user","state","auth","token","isFollowing","setIsFollowing","buttonLabel","setButtonLabel","TofollowUser","res","fetch","_id","method","headers","Accept","Authorization","data","json","ToUnfollowUser","follower","includes","JSON","parse","localStorage","getItem","pl","pr","display","flexDirection","borderRadius","mb","pb","alignItems","height","width","borderColor","borderWidth","border","mt","profilePicture","name","ml","location"],"sources":["D:/memories-backup/frontend/src/components/UserItem.jsx"],"sourcesContent":["import { Card } from '@mui/material'\r\nimport { Button, CardHeader } from '@material-ui/core';\r\nimport{ Box} from '@mui/material';\r\nimport {Typography} from '@material-ui/core';\r\nimport {Paper} from '@material-ui/core';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux';\r\n// import { ThemeProvider } from '@mui/material/styles';\r\nimport { useState } from 'react';\r\nimport FlexBetween from './FlexBetween';\r\nimport WidgetWrapper from './WidgetWrapper'\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction UserItem({person}) \r\n\r\n\r\n{\r\n const { user } = useSelector((state) => state.auth);\r\n \r\n  const token = user.token;\r\n  // console.log(user._id);\r\n\r\n \r\nconst [isFollowing, setIsFollowing] = useState(false);\r\nconst [buttonLabel,setButtonLabel]=useState(\"Follow\");\r\n\r\n\r\n  \r\n  \r\n\r\n   const TofollowUser=async()=>{\r\n    const res = await fetch(\r\n      `http://localhost:5000/api/users/follow/${person._id}`,\r\n      { method:'PUT',\r\n        headers: {\r\n          Accept:'application/json',\r\n         'Content-Type':'application/json',\r\n         Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n      const data=await res.json();\r\n      // console.log(data);\r\n      setIsFollowing(true);\r\n      setButtonLabel('Unfollow');\r\n     \r\n   }\r\n const ToUnfollowUser = async () => {\r\n   const res = await fetch(\r\n     `http://localhost:5000/api/users/unfollow/${person._id}`,\r\n     {\r\n       method: 'PUT',\r\n       headers: {\r\n         Accept: 'application/json',\r\n         'Content-Type': 'application/json',\r\n         Authorization: `Bearer ${token}`,\r\n       },\r\n     }\r\n   );\r\n   const data = await res.json();\r\n  //  console.log(data);\r\n   setIsFollowing(false);\r\n    setButtonLabel('Follow');\r\n };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n\r\n \r\n\r\n   if(person.follower.includes(  JSON.parse(localStorage.getItem(\"user\"))._id)){\r\n    setIsFollowing(true);\r\n    setButtonLabel('Unfollow')\r\n   }\r\n   else{\r\n     setIsFollowing(false);\r\n      setButtonLabel('Follow');\r\n   }\r\n  },[setIsFollowing.person])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          pl: '2rem',\r\n          pr: '2rem',\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          // backgroundColor: '#E5BEEC',\r\n          // alignItems: 'center',\r\n          borderRadius: '5px',\r\n          mb: '2vmax',\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            pb: '0.5rem',\r\n            display: 'flex',\r\n            // bgcolor: 'grey',\r\n            // width: '2rem',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <CardMedia\r\n            sx={{\r\n              height: 50,\r\n              width: 50,\r\n              borderRadius: 100,\r\n              borderColor: 'blue',\r\n              borderWidth: '1px',\r\n\r\n              border: '1px solid blue',\r\n              mt: 1,\r\n            }}\r\n            component='img'\r\n            height='50'\r\n            image={person.profilePicture}\r\n            alt={person.name}\r\n          />\r\n\r\n          <Typography variant='h6' sx={{ ml: '1rem' }}>\r\n            {person.name}\r\n          </Typography>\r\n\r\n          <Typography>{person.location}</Typography>\r\n\r\n          <Button\r\n            variant='contained'\r\n            onClick={() => {\r\n              if (isFollowing) {\r\n                ToUnfollowUser();\r\n              } else {\r\n                TofollowUser();\r\n              }\r\n            }}\r\n          >\r\n            {buttonLabel}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserItem"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}