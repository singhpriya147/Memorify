{"ast":null,"code":"import axios from 'axios';\nconst API_URL = '/api/users/';\n\n// This code defines a JavaScript function register that sends a POST request to an API endpoint /api/users/ using the axios library. The function takes an argument userData\n// (dispatch(register(userData))\n// which is an object containing the data that needs to be sent to the API. The function then makes an API call using the axios.post method, passing the API URL and the user data as arguments.\n\n// Once the API returns a response, the code checks if response.data is truthy and, if it is, it stores the data in the browser's local storage using the localStorage.setItem method. This allows the data to persist even if the user refreshes the page. Finally, the function returns the API response data.\n\n// Register user\nconst register = async userData => {\n  const response = await axios.post(API_URL, userData);\n  if (response.data) {\n    localStorage.setItem('user', JSON.stringify(response.data));\n  }\n  return response.data;\n};\n\n// Login user\nconst login = async userData => {\n  // console.log('cheking the url = ', `${process.env.BASE_URL}/api/users`);\n  // console.log('cheking the url = ', process.env.BASE_URL);\n  const response = await axios.post(API_URL + 'login', userData);\n  if (response.data) {\n    localStorage.setItem('user', JSON.stringify(response.data));\n  }\n  return response.data;\n};\nconst getUser = async (userId, token) => {\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  // console.log(userId,token)\n  const response = await axios.get(`${API_URL}/:${userId}`, config);\n  // console.log(response.data);\n  //     console.log('hello');\n\n  return response.data;\n};\n\n// const getAllUser = async ( token) => {\n//   const config = {\n//     headers: {\n//       Authorization: `Bearer ${token}`,\n//     },\n//   };\n//   // console.log(userId,token)\n//   const response = await axios.get(API_URL, config);\n//   // console.log(response.data);\n//   console.log('running all user function ');\n\n//   return response.data;\n// };\n\n// Logout user\nconst logout = () => {\n  localStorage.removeItem('user');\n};\nconst authService = {\n  register,\n  logout,\n  login,\n  getUser\n  //  getAllUser,\n};\n\nexport default authService;","map":{"version":3,"names":["axios","API_URL","register","userData","response","post","data","localStorage","setItem","JSON","stringify","login","getUser","userId","token","config","headers","Authorization","get","logout","removeItem","authService"],"sources":["D:/memories/frontend/src/features/auth/authService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n\r\nconst API_URL = '/api/users/';\r\n\r\n// This code defines a JavaScript function register that sends a POST request to an API endpoint /api/users/ using the axios library. The function takes an argument userData\r\n// (dispatch(register(userData))\r\n// which is an object containing the data that needs to be sent to the API. The function then makes an API call using the axios.post method, passing the API URL and the user data as arguments.\r\n\r\n// Once the API returns a response, the code checks if response.data is truthy and, if it is, it stores the data in the browser's local storage using the localStorage.setItem method. This allows the data to persist even if the user refreshes the page. Finally, the function returns the API response data.\r\n\r\n// Register user\r\nconst register = async (userData) => {\r\n  const response = await axios.post(API_URL, userData);\r\n\r\n  if (response.data) {\r\n    localStorage.setItem('user', JSON.stringify(response.data));\r\n  }\r\n\r\n  return response.data;\r\n};\r\n\r\n// Login user\r\nconst login = async (userData) => {\r\n  // console.log('cheking the url = ', `${process.env.BASE_URL}/api/users`);\r\n  // console.log('cheking the url = ', process.env.BASE_URL);\r\n  const response = await axios.post(API_URL + 'login', userData);\r\n\r\n  if (response.data) {\r\n    localStorage.setItem('user', JSON.stringify(response.data));\r\n  }\r\n\r\n  return response.data;\r\n};\r\n\r\n\r\nconst getUser=async(userId,token)=>{\r\n  const config={\r\n    headers:{\r\n      Authorization:`Bearer ${token}`,\r\n    },\r\n  };\r\n  // console.log(userId,token)\r\n  const response = await axios.get(`${API_URL}/:${userId}`, config);\r\n  // console.log(response.data);\r\n  //     console.log('hello');\r\n\r\n  return response.data;\r\n\r\n}\r\n\r\n\r\n// const getAllUser = async ( token) => {\r\n//   const config = {\r\n//     headers: {\r\n//       Authorization: `Bearer ${token}`,\r\n//     },\r\n//   };\r\n//   // console.log(userId,token)\r\n//   const response = await axios.get(API_URL, config);\r\n//   // console.log(response.data);\r\n//   console.log('running all user function ');\r\n\r\n  \r\n//   return response.data;\r\n// };\r\n\r\n\r\n// Logout user\r\nconst logout = () => {\r\n  localStorage.removeItem('user');\r\n};\r\n\r\nconst authService = {\r\n  register,\r\n  logout,\r\n  login,\r\n getUser,\r\n//  getAllUser,\r\n};\r\n\r\nexport default authService;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAG,aAAa;;AAE7B;AACA;AACA;;AAEA;;AAEA;AACA,MAAMC,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EACnC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAACJ,OAAO,EAAEE,QAAQ,CAAC;EAEpD,IAAIC,QAAQ,CAACE,IAAI,EAAE;IACjBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC7D;EAEA,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,MAAMK,KAAK,GAAG,MAAOR,QAAQ,IAAK;EAChC;EACA;EACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAACJ,OAAO,GAAG,OAAO,EAAEE,QAAQ,CAAC;EAE9D,IAAIC,QAAQ,CAACE,IAAI,EAAE;IACjBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC7D;EAEA,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;AAGD,MAAMM,OAAO,GAAC,OAAMC,MAAM,EAACC,KAAK,KAAG;EACjC,MAAMC,MAAM,GAAC;IACXC,OAAO,EAAC;MACNC,aAAa,EAAE,UAASH,KAAM;IAChC;EACF,CAAC;EACD;EACA,MAAMV,QAAQ,GAAG,MAAMJ,KAAK,CAACkB,GAAG,CAAE,GAAEjB,OAAQ,KAAIY,MAAO,EAAC,EAAEE,MAAM,CAAC;EACjE;EACA;;EAEA,OAAOX,QAAQ,CAACE,IAAI;AAEtB,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;;AAGA;AACA,MAAMa,MAAM,GAAG,MAAM;EACnBZ,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,MAAMC,WAAW,GAAG;EAClBnB,QAAQ;EACRiB,MAAM;EACNR,KAAK;EACNC;EACD;AACA,CAAC;;AAED,eAAeS,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}