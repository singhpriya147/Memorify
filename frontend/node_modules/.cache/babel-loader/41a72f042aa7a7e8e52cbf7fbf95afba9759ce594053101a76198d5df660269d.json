{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{getUserPosts}from'../features/Posts/postSlice';import Header from'../components/Header';import{Box,Typography}from'@material-ui/core';import PostItem from'../components/PostItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyPosts(){// const [post,setPost]=useState([])\nvar dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.post;}),posts=_useSelector2.posts;//  console.log(user._id,user.token)\nvar userId=user._id;var token=user.token;useEffect(function(){dispatch(getUserPosts(userId));//  getUserPosts();\n},[userId,token]);// const getUserPosts = async () => {\n//   const res = await fetch(`http://localhost:5000/api/posts/:${userId}/posts`, {\n//     headers: {\n//       Authorization: `Bearer ${token}`,\n//     },\n//   });\n//   const post = await res.json();\n//   setPost(post);\n//   console.log(post)\n// };\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Box,{sx:{padding:'3rem',width:500,alignContent:'center'},children:posts.length>0?/*#__PURE__*/_jsx(Box,{sx:{width:500,height:300},children:posts.map(function(post){return/*#__PURE__*/_jsx(PostItem,{post:post},post._id);})}):/*#__PURE__*/_jsx(Typography,{children:\"You have not set any memories\"})})]});}export default MyPosts;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","getUserPosts","Header","Box","Typography","PostItem","MyPosts","dispatch","navigate","state","auth","user","post","posts","userId","_id","token","padding","width","alignContent","length","height","map"],"sources":["D:/memories/frontend/src/pages/MyPosts.jsx"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {getUserPosts} from '../features/Posts/postSlice';\r\nimport Header from '../components/Header';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport PostItem from '../components/PostItem';\r\nfunction MyPosts() {\r\n\r\n  // const [post,setPost]=useState([])\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => state.auth);\r\n   const{posts}=useSelector((state)=>state.post)\r\n  //  console.log(user._id,user.token)\r\n\r\n const userId=user._id;\r\n const token=user.token;\r\n\r\n useEffect(() => {\r\n  dispatch(getUserPosts(userId));\r\n\r\n  //  getUserPosts();\r\n }, [userId, token]);\r\n\r\n\r\n  // const getUserPosts = async () => {\r\n  //   const res = await fetch(`http://localhost:5000/api/posts/:${userId}/posts`, {\r\n  //     headers: {\r\n  //       Authorization: `Bearer ${token}`,\r\n  //     },\r\n  //   });\r\n  //   const post = await res.json();\r\n  //   setPost(post);\r\n  //   console.log(post)\r\n  // };\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n      <Box sx={{ padding: '3rem', width: 500, alignContent: 'center' }}>\r\n        {posts.length > 0 ? (\r\n          <Box sx={{ width: 500, height: 300 }}>\r\n            {posts.map((post) => (\r\n              <PostItem key={post._id} post={post} />\r\n            ))}\r\n          </Box>\r\n        ) : (\r\n          <Typography>You have not set any memories</Typography>\r\n        )}\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyPosts;"],"mappings":"AAAA,MAAOA,MAAK,EAAEC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAC9C,OAASC,WAAW,CAACC,WAAW,KAAQ,aAAa,CACrD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAQC,YAAY,KAAO,6BAA6B,CACxD,MAAOC,OAAM,KAAM,sBAAsB,CACzC,OAASC,GAAG,CAAEC,UAAU,KAAQ,mBAAmB,CACnD,MAAOC,SAAQ,KAAM,wBAAwB,CAAC,6IAC9C,QAASC,QAAO,EAAG,CAEjB;AACA,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,CAAGR,WAAW,EAAE,CAC9B,iBAAiBD,WAAW,CAAC,SAACU,KAAK,QAAKA,MAAK,CAACC,IAAI,GAAC,CAA3CC,IAAI,cAAJA,IAAI,CACX,kBAAaZ,WAAW,CAAC,SAACU,KAAK,QAAGA,MAAK,CAACG,IAAI,GAAC,CAAvCC,KAAK,eAALA,KAAK,CACZ;AAED,GAAMC,OAAM,CAACH,IAAI,CAACI,GAAG,CACrB,GAAMC,MAAK,CAACL,IAAI,CAACK,KAAK,CAEtBpB,SAAS,CAAC,UAAM,CACfW,QAAQ,CAACN,YAAY,CAACa,MAAM,CAAC,CAAC,CAE9B;AACD,CAAC,CAAE,CAACA,MAAM,CAAEE,KAAK,CAAC,CAAC,CAGlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACE,wCACA,KAAC,MAAM,IAAE,cACP,KAAC,GAAG,EAAC,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,KAAK,CAAE,GAAG,CAAEC,YAAY,CAAE,QAAS,CAAE,UAC9DN,KAAK,CAACO,MAAM,CAAG,CAAC,cACf,KAAC,GAAG,EAAC,EAAE,CAAE,CAAEF,KAAK,CAAE,GAAG,CAAEG,MAAM,CAAE,GAAI,CAAE,UAClCR,KAAK,CAACS,GAAG,CAAC,SAACV,IAAI,qBACd,KAAC,QAAQ,EAAgB,IAAI,CAAEA,IAAK,EAArBA,IAAI,CAACG,GAAG,CAAgB,EACxC,CAAC,EACE,cAEN,KAAC,UAAU,WAAC,+BAA6B,EAC1C,EACG,GACL,CAEP,CAEA,cAAeT,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}