{"ast":null,"code":"import _regeneratorRuntime from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Header from'./Header';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Button from'@mui/material/Button';import{updateProfile}from'../features/auth/authSlice';// import Dashboard from '../pages/Dashboard'\nimport getUser from'../features/auth/authSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateProfile=function UpdateProfile(){// dispatch(getUser(user._id));\nvar _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;// const [user, setUser] = useState({ name: 'guest' });\nvar dispatch=useDispatch();// console.log(\"this is user data before change\",user);\n// console.log(user);\nvar token=user.token;// console.log(token);\nvar navigate=useNavigate();// const[name,setName]=useState(user? user.name:'');\n// const[email,setEmail]=useState(user?user.email:'');\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];// console.log(user._id);\n// useEffect(() => {\n//   dispatch(getUser(user._id));\n// }, [dispatch, user._id]);\nvar submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return dispatch(updateProfile({name:name,email:email},token));case 3://  setName('');\n//  setEmail('');\n// console.log(\" buttton clicked\")\n//  dispatch(getUser(user._id));\nnavigate('/');case 4:case\"end\":return _context.stop();}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();//  const getData = async () => {\n//    const res = await fetch(`http://localhost:5000/api/users/${userId}`, {\n//      headers: {\n//        Authorization: `Bearer ${token}`,\n//      },\n//    });\n//    const user = await res.json();\n//    setUser(user);\n//    // console.log(user)\n//  };\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{style:{marginLeft:'30%',height:' 400px',backgroundColor:' \t#E0E0E0'},onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Update Profile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,placeholder:\"updated name\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,placeholder:\"updated email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Update\"})]})})]});};export default UpdateProfile;","map":{"version":3,"names":["React","Header","useState","useEffect","useNavigate","useDispatch","useSelector","Button","updateProfile","getUser","UpdateProfile","state","auth","user","dispatch","token","navigate","name","setName","email","setEmail","submitHandler","e","preventDefault","marginLeft","height","backgroundColor","target","value"],"sources":["D:/memories/frontend/src/components/UpdateProfile.jsx"],"sourcesContent":["import React from 'react'\r\nimport Header from './Header'\r\nimport { useState,useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Button  from '@mui/material/Button'\r\nimport {  updateProfile } from '../features/auth/authSlice'\r\n// import Dashboard from '../pages/Dashboard'\r\nimport getUser from '../features/auth/authSlice'\r\n\r\nconst UpdateProfile = () => {\r\n// dispatch(getUser(user._id));\r\nconst{user}=useSelector((state)=>state.auth)\r\n// const [user, setUser] = useState({ name: 'guest' });\r\nconst dispatch = useDispatch();\r\n// console.log(\"this is user data before change\",user);\r\n// console.log(user);\r\n\r\n\r\nconst token =user.token;\r\n// console.log(token);\r\n const navigate = useNavigate();\r\n\r\n// const[name,setName]=useState(user? user.name:'');\r\n// const[email,setEmail]=useState(user?user.email:'');\r\n\r\nconst [name, setName] = useState(\"\");\r\nconst[email,setEmail]=useState(\"\");\r\n\r\n// console.log(user._id);\r\n\r\n\r\n// useEffect(() => {\r\n//   dispatch(getUser(user._id));\r\n// }, [dispatch, user._id]);\r\n\r\n\r\nconst submitHandler=async(e)=>{\r\n e.preventDefault();\r\n  \r\n await dispatch(updateProfile( {name, email},token));\r\n    \r\n    //  setName('');\r\n    //  setEmail('');\r\n \r\n    // console.log(\" buttton clicked\")\r\n//  dispatch(getUser(user._id));\r\n\r\n  navigate('/');\r\n  \r\n}\r\n\r\n//  const getData = async () => {\r\n//    const res = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n//      headers: {\r\n//        Authorization: `Bearer ${token}`,\r\n//      },\r\n//    });\r\n//    const user = await res.json();\r\n//    setUser(user);\r\n//    // console.log(user)\r\n//  };\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div>\r\n        <form\r\n          style={{\r\n            marginLeft: '30%',\r\n            height: ' 400px',\r\n            backgroundColor: ' \t#E0E0E0',\r\n          }}\r\n          onSubmit={submitHandler}\r\n        >\r\n          <h3>Update Profile</h3>\r\n          <input\r\n            type='text'\r\n            value={name}\r\n            placeholder='updated name'\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          <input\r\n            type='text'\r\n            value={email}\r\n            placeholder='updated email'\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <Button type='submit' >Update</Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  ); \r\n}\r\n\r\nexport default UpdateProfile"],"mappings":"8UAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,UAAU,CAC7B,OAASC,QAAQ,CAACC,SAAS,KAAQ,OAAO,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAOC,OAAM,KAAO,sBAAsB,CAC1C,OAAUC,aAAa,KAAQ,4BAA4B,CAC3D;AACA,MAAOC,QAAO,KAAM,4BAA4B,yFAEhD,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC5B;AACA,iBAAYJ,WAAW,CAAC,SAACK,KAAK,QAAGA,MAAK,CAACC,IAAI,GAAC,CAAtCC,IAAI,cAAJA,IAAI,CACV;AACA,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B;AACA;AAGA,GAAMU,MAAK,CAAEF,IAAI,CAACE,KAAK,CACvB;AACC,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAE/B;AACA;AAEA,cAAwBF,QAAQ,CAAC,EAAE,CAAC,wCAA7Be,IAAI,eAAEC,OAAO,eACpB,eAAsBhB,QAAQ,CAAC,EAAE,CAAC,yCAA5BiB,KAAK,eAACC,QAAQ,eAEpB;AAGA;AACA;AACA;AAGA,GAAMC,cAAa,4FAAC,iBAAMC,CAAC,mHAC1BA,CAAC,CAACC,cAAc,EAAE,CAAC,sBAEbT,SAAQ,CAACN,aAAa,CAAE,CAACS,IAAI,CAAJA,IAAI,CAAEE,KAAK,CAALA,KAAK,CAAC,CAACJ,KAAK,CAAC,CAAC,QAEhD;AACA;AAEA;AACJ;AAEEC,QAAQ,CAAC,GAAG,CAAC,CAAC,qDAEf,kBAbKK,cAAa,4CAalB,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIE,mBACE,oCACE,KAAC,MAAM,IAAG,cACV,kCACE,cACE,KAAK,CAAE,CACLG,UAAU,CAAE,KAAK,CACjBC,MAAM,CAAE,QAAQ,CAChBC,eAAe,CAAE,WACnB,CAAE,CACF,QAAQ,CAAEL,aAAc,wBAExB,oBAAI,gBAAc,EAAK,cACvB,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEJ,IAAK,CACZ,WAAW,CAAC,cAAc,CAC1B,QAAQ,CAAE,kBAACK,CAAC,QAAKJ,QAAO,CAACI,CAAC,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,EACzC,cACF,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAET,KAAM,CACb,WAAW,CAAC,eAAe,CAC3B,QAAQ,CAAE,kBAACG,CAAC,QAAKF,SAAQ,CAACE,CAAC,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,EAC1C,cACF,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,UAAE,QAAM,EAAS,GACjC,EACH,GACF,CAEV,CAAC,CAED,cAAelB,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}