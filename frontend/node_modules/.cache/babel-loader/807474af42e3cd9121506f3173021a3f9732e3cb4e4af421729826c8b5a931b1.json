{"ast":null,"code":"import _regeneratorRuntime from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'@mui/material/Card';import{useStyles}from'./styling';import{TextField,Typography}from'@mui/material';import CardMedia from'@mui/material/CardMedia';import Dialog from'@mui/material/Dialog';import{useDispatch,useSelector}from'react-redux';import{useEffect,useState}from'react';import CardContent from'@mui/material/CardContent';import EmailOutlinedIcon from'@mui/icons-material/EmailOutlined';import LocationOnOutlinedIcon from'@mui/icons-material/LocationOnOutlined';import WorkOutlineOutlinedIcon from'@mui/icons-material/WorkOutlineOutlined';import{getUser,updateProfile}from'../features/auth/authSlice';import FlexBetween from'./FlexBetween';import{Box}from'@material-ui/core';import{Button}from'@mui/material';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MyProfile(_ref){var userId=_ref.userId,token=_ref.token;var _useState=useState({name:'guest'}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// const { user } = useSelector((state) => state.auth);\n// console.log(user.following);\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),followingCount=_useState4[0],setFollowingCount=_useState4[1];var _useState5=useState(user.follower?user.follower.length:0),_useState6=_slicedToArray(_useState5,2),followerCount=_useState6[0],setFollowerCount=_useState6[1];// const id=user._id;\nvar dispatch=useDispatch();var classes=useStyles();useEffect(function(){getData();setFollowerCount(user.follower?user.follower.length:0);},[]);// useEffect(() => {\n// dispatch(getUser(id));\n//   // setFollowingCount(user.following ? user.following.length : 0);\n//   // setFollowerCount(user.follower ? user.follower.length : 0);\n// }, [id,dispatch]);\nvar getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/api/users/\".concat(userId),{headers:{Authorization:\"Bearer \".concat(token)}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:user=_context.sent;setUser(user);// console.log(user)\ncase 7:case\"end\":return _context.stop();}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();//  console.log(followingCount);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card,{className:classes.userCard,sx:{height:350,width:250// display: {\n//   xs: 'none',\n//   md:\"block\"\n// },\n},children:[/*#__PURE__*/_jsx(CardMedia,{sx:{height:75,width:75,borderRadius:100,borderColor:'blue',mt:1},component:\"img\",height:\"200\",image:user.profilePicture,alt:\"no img\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{children:user.name}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(EmailOutlinedIcon,{}),user.email]}),/*#__PURE__*/_jsxs(Typography,{children:[' ',/*#__PURE__*/_jsx(LocationOnOutlinedIcon,{}),user.location]}),/*#__PURE__*/_jsxs(Typography,{children:[' ',/*#__PURE__*/_jsx(WorkOutlineOutlinedIcon,{}),user.occupation]}),user&&user.follower?/*#__PURE__*/_jsxs(Typography,{children:[\" Follower\",user.follower.length]}):/*#__PURE__*/_jsx(Typography,{children:\"0 \"}),user&&user.following?/*#__PURE__*/_jsxs(Typography,{children:[\" Following \",user.following.length,\" \"]}):/*#__PURE__*/_jsx(Typography,{children:\"0 \"}),/*#__PURE__*/_jsx(Link,{to:\"/update/profile\",children:/*#__PURE__*/_jsx(Button,{children:\"Update Profile\"})}),/*#__PURE__*/_jsx(Link,{to:\"/update/password\",children:/*#__PURE__*/_jsx(Button,{children:\"Change Password\"})})]})]})});}export default MyProfile;","map":{"version":3,"names":["React","Card","useStyles","TextField","Typography","CardMedia","Dialog","useDispatch","useSelector","useEffect","useState","CardContent","EmailOutlinedIcon","LocationOnOutlinedIcon","WorkOutlineOutlinedIcon","getUser","updateProfile","FlexBetween","Box","Button","Link","MyProfile","userId","token","name","user","setUser","followingCount","setFollowingCount","follower","length","followerCount","setFollowerCount","dispatch","classes","getData","fetch","headers","Authorization","res","json","userCard","height","width","borderRadius","borderColor","mt","profilePicture","email","location","occupation","following"],"sources":["D:/memories/frontend/src/components/MyProfile.jsx"],"sourcesContent":["import React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport { useStyles } from './styling';\r\nimport { TextField, Typography } from '@mui/material';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport EmailOutlinedIcon from '@mui/icons-material/EmailOutlined';\r\nimport LocationOnOutlinedIcon from '@mui/icons-material/LocationOnOutlined';\r\nimport WorkOutlineOutlinedIcon from '@mui/icons-material/WorkOutlineOutlined';\r\nimport { getUser, updateProfile} from '../features/auth/authSlice';\r\nimport FlexBetween from './FlexBetween';\r\nimport { Box } from '@material-ui/core';\r\nimport {Button} from '@mui/material';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nfunction MyProfile({userId,token}) {\r\n  const [user,setUser]=useState({name:'guest'});\r\n  // const { user } = useSelector((state) => state.auth);\r\n  // console.log(user.following);\r\n  const [followingCount, setFollowingCount] = useState(0)\r\n  \r\n  const [followerCount, setFollowerCount] = useState(\r\n    user.follower ? user.follower.length : 0\r\n  );\r\n\r\n  // const id=user._id;\r\n \r\n\r\n\r\n\r\n\r\n\r\n  const dispatch = useDispatch();\r\n   const classes = useStyles();\r\n  \r\n  useEffect(()=>{\r\n     getData()\r\n     \r\n       setFollowerCount(user.follower ? user.follower.length : 0);\r\n  },[])\r\n\r\n\r\n\r\n    // useEffect(() => {\r\n    // dispatch(getUser(id));\r\n    //   // setFollowingCount(user.following ? user.following.length : 0);\r\n    //   // setFollowerCount(user.follower ? user.follower.length : 0);\r\n    // }, [id,dispatch]);\r\n\r\n\r\n\r\n \r\n   const getData = async()=>{\r\n    const res = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    const user =await res.json()\r\n    setUser(user)\r\n    // console.log(user)\r\n   }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n  \r\n  \r\n\r\n//  console.log(followingCount);\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        className={classes.userCard}\r\n        sx={{\r\n          height: 350,\r\n          width: 250,\r\n          // display: {\r\n          //   xs: 'none',\r\n          //   md:\"block\"\r\n          // },\r\n        }}\r\n      >\r\n        <CardMedia\r\n          sx={{\r\n            height: 75,\r\n            width: 75,\r\n            borderRadius: 100,\r\n            borderColor: 'blue',\r\n            mt: 1,\r\n          }}\r\n          component='img'\r\n          height='200'\r\n          image={user.profilePicture}\r\n          alt='no img'\r\n        />\r\n        <CardContent>\r\n          <Typography>{user.name}</Typography>\r\n          <Typography>\r\n            <EmailOutlinedIcon />\r\n            {user.email}\r\n          </Typography>\r\n          <Typography>\r\n            {' '}\r\n            <LocationOnOutlinedIcon />\r\n            {user.location}\r\n          </Typography>\r\n          <Typography>\r\n            {' '}\r\n            <WorkOutlineOutlinedIcon />\r\n            {user.occupation}\r\n          </Typography>\r\n\r\n          {user && user.follower ? (\r\n            <Typography> Follower \r\n              {user.follower.length}\r\n\r\n            \r\n             </Typography>\r\n          ) : (\r\n            <Typography>0 </Typography>\r\n          )}\r\n          {user && user.following ? (\r\n            <Typography> Following {user.following.length} </Typography>\r\n          ) : (\r\n            <Typography>0 </Typography>\r\n          )}\r\n          <Link to='/update/profile'>\r\n            <Button  >Update Profile</Button>\r\n          </Link>\r\n          <Link to='/update/password'>\r\n            <Button >Change Password</Button>\r\n          </Link>\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyProfile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}