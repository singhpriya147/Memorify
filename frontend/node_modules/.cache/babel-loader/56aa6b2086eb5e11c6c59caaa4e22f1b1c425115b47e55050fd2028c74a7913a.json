{"ast":null,"code":"import _defineProperty from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/memories/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{toast}from'react-toastify';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{reset,register}from'../features/auth/authSlice';import'./Register.css';import FileBase from'react-file-base64';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){var _useState=useState({name:'',email:'',password:'',password2:'',profilePicture:'',location:'',ocuppation:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var name=formData.name,email=formData.email,password=formData.password,password2=formData.password2,profilePicture=formData.profilePicture,location=formData.location,occupation=formData.occupation;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){toast.error(message);}if(isSuccess||user){navigate('/');}dispatch(reset());},[user,isError,isSuccess,message,navigate,dispatch]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();if(password!==password2){// console.log('password odesnt match')\n}else{var userData={name:name,email:email,password:password,profilePicture:profilePicture,location:location,occupation:occupation};console.log(userData);dispatch(register(userData));};};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"registration \"}),/*#__PURE__*/_jsx(\"p\",{children:\"please register yourself\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"name\",id:\"name\",name:\"name\",value:name,placeholder:\"enter your name\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,placeholder:\"enter your email\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,placeholder:\"password\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password2\",name:\"password2\",value:password2,placeholder:\"confirm password\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",name:\"location\",value:location,placeholder:\"your location\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"occupation\",name:\"occupation\",value:occupation,placeholder:\"your occupation\",onChange:onChange})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\" Add your profile picture\"}),/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,placeholder:\"profile picture\",onDone:function onDone(_ref){var base64=_ref.base64;return setFormData(_objectSpread(_objectSpread({},formData),{},{profilePicture:base64}));}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Submit\"})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useEffect","toast","useSelector","useDispatch","useNavigate","reset","register","FileBase","Register","name","email","password","password2","profilePicture","location","ocuppation","formData","setFormData","occupation","navigate","dispatch","state","auth","user","isLoading","isError","isSuccess","message","error","onChange","e","prevState","target","value","handleSubmit","preventDefault","userData","console","log","base64"],"sources":["D:/memories/frontend/src/pages/Register.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState,useEffect } from 'react'\r\nimport {toast} from 'react-toastify'\r\nimport { useSelector,useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { reset,register } from '../features/auth/authSlice'\r\nimport './Register.css'\r\nimport FileBase from 'react-file-base64';\r\n\r\n\r\n\r\nfunction Register() {\r\n const [formData,setFormData]=useState({\r\n  name:'',\r\n  email:'',\r\n  password:'',\r\n  password2:'',\r\n  profilePicture:'',\r\n  location:'',\r\n  ocuppation:'',\r\n\r\n })\r\n\r\n const{name,email,password,password2, profilePicture,location,occupation}=formData\r\nconst navigate = useNavigate();\r\n const dispatch=useDispatch()\r\n\r\nconst { user, isLoading, isError, isSuccess, message } = useSelector(\r\n  (state) => state.auth\r\n);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  if (isError) {\r\n    toast.error(message);\r\n  }\r\n  if (isSuccess || user) {\r\n    navigate('/');\r\n  }\r\n  dispatch(reset());\r\n}, [user, isError, isSuccess, message, navigate, dispatch]);\r\n\r\n\r\n const onChange=(e)=>{\r\n setFormData((prevState)=>({\r\n  ...prevState,\r\n  [e.target.name]:e.target.value,\r\n }))\r\n }\r\n\r\n const handleSubmit = (e) => {\r\n   e.preventDefault();\r\n   if(password!==password2){\r\n    // console.log('password odesnt match')\r\n   }\r\n   else{\r\n    const userData={name,email,password,profilePicture,location,occupation}\r\n    console.log(userData)\r\n    dispatch(register(userData))\r\n   };\r\n };\r\n  return (\r\n    <>\r\n      <div className='container'>\r\n        <div className='header'>\r\n          <h1>registration </h1>\r\n          <p>please register yourself</p>\r\n        </div>\r\n        {/* form section */}\r\n        <form className='form' onSubmit={handleSubmit}>\r\n          <div>\r\n            <input\r\n              type='name'\r\n              id='name'\r\n              name='name'\r\n              value={name}\r\n              placeholder='enter your name'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n         \r\n          <div>\r\n            <input\r\n              type='email'\r\n              id='email'\r\n              name='email'\r\n              value={email}\r\n              placeholder='enter your email'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type='password'\r\n              id='password'\r\n              name='password'\r\n              value={password}\r\n              placeholder='password'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type='password'\r\n              id='password2'\r\n              name='password2'\r\n              value={password2}\r\n              placeholder='confirm password'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type='text'\r\n              id='location'\r\n              name='location'\r\n              value={location}\r\n              placeholder='your location'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type='text'\r\n              id='occupation'\r\n              name='occupation'\r\n              value={occupation}\r\n              placeholder='your occupation'\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h3> Add your profile picture</h3>\r\n            <FileBase\r\n              type='file'\r\n              multiple={false}\r\n              placeholder='profile picture'\r\n              onDone={({ base64 }) =>\r\n                setFormData({ ...formData, profilePicture: base64 })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <button type='submit' className='btn'>Submit</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}